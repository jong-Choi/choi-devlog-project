/* === 전체 SVG === */
.graph-svg {
  background-color: #f1f5f9;
}

@media (prefers-color-scheme: dark) {
  .graph-svg {
    background-color: #1f2937; /* Tailwind bg-gray-800 */
  }
}

/* === 링크 라인 === */
.graph-link {
  stroke: #cbd5e1; /* 기본값: slate-300 */
}

@media (prefers-color-scheme: dark) {
  .graph-link {
    stroke: #475569; /* 다크모드: slate-600 */
  }
}

/* === 노드 버튼 그룹 === */
.node-button {
  cursor: pointer;
  transition: all 0.2s ease;
}

/* === 사각형 배경 === */
.graph-node {
  fill: #2563eb; /* Tailwind blue-600 */
  stroke: #003d88; /* Tailwind blue-900 */
  stroke-width: 1.5;
  rx: 12;
  ry: 12;
  opacity: 0.85;
  transition: all 0.2s ease;
}

@media (prefers-color-scheme: dark) {
  .graph-node {
    fill: #1e40af; /* blue-800 */
    stroke: #172554; /* blue-950 */
  }
}

/* === 텍스트 공통 === */
.graph-text {
  fill: white;
  font-family: sans-serif;
  text-anchor: middle;
  dominant-baseline: central;
  pointer-events: none;
}

/* === 제목 텍스트 === */
.graph-title {
  font-size: 14px;
  font-weight: 600;
}

/* === 게시글 수 텍스트 === */
.graph-count {
  font-size: 10px;
  fill: #fcd34d; /* Tailwind yellow-400 */
}

/* === Quality 등급별 투명도 === */
.node-button.quality-excellent .graph-node {
  opacity: 0.95;
}
.node-button.quality-good .graph-node {
  opacity: 0.9;
}
.node-button.quality-average .graph-node {
  opacity: 0.8;
}
.node-button.quality-poor .graph-node {
  opacity: 0.7;
}
.node-button.quality-bloody-awful .graph-node {
  opacity: 0.6;
}
.node-button.quality-unknown .graph-node {
  opacity: 0.3;
}

/* === font-size에 따른 텍스트 크기 조절 === */
.node-button.font-size-xs .graph-title {
  font-size: 10px;
  font-weight: 400;
}
.node-button.font-size-sm .graph-title {
  font-size: 12px;
  font-weight: 500;
}
.node-button.font-size-md .graph-title {
  font-size: 13px;
  font-weight: 600;
}
.node-button.font-size-lg .graph-title {
  font-size: 14px;
  font-weight: 700;
}
.node-button.font-size-xl .graph-title {
  font-size: 15px;
  font-weight: 800;
}

/* === Hover 상태 === */
.node-button:hover .graph-node {
  opacity: 1 !important;
  filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.15));
}

/* === 선택된 상태 === */
.node-button.selected .graph-node {
  stroke: #003d88;
  stroke-width: 2.5;
  opacity: 1 !important;
}
